{"ast":null,"code":"import _slicedToArray from\"/Users/vijayanand/Desktop/quiz-app/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState,useEffect}from'react';import{Container,Segment,Item,Divider,Button,Icon,Message,Menu,Header}from'semantic-ui-react';import he from'he';import Countdown from'../Countdown';import{getLetter}from'../../utils';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Quiz=function Quiz(_ref){var data=_ref.data,countdownTime=_ref.countdownTime,endQuiz=_ref.endQuiz;var _useState=useState(0),_useState2=_slicedToArray(_useState,2),questionIndex=_useState2[0],setQuestionIndex=_useState2[1];var _useState3=useState(0),_useState4=_slicedToArray(_useState3,2),correctAnswers=_useState4[0],setCorrectAnswers=_useState4[1];var _useState5=useState(null),_useState6=_slicedToArray(_useState5,2),userSlectedAns=_useState6[0],setUserSlectedAns=_useState6[1];var _useState7=useState([]),_useState8=_slicedToArray(_useState7,2),questionsAndAnswers=_useState8[0],setQuestionsAndAnswers=_useState8[1];var _useState9=useState(null),_useState10=_slicedToArray(_useState9,2),timeTaken=_useState10[0],setTimeTaken=_useState10[1];useEffect(function(){if(questionIndex>0)window.scrollTo({top:0,behavior:'smooth'});},[questionIndex]);var handleItemClick=function handleItemClick(e,_ref2){var name=_ref2.name;setUserSlectedAns(name);};var handleNext=function handleNext(){var point=0;if(userSlectedAns===he.decode(data[questionIndex].correct_answer)){point=1;}var qna=questionsAndAnswers;qna.push({question:he.decode(data[questionIndex].question),user_answer:userSlectedAns,correct_answer:he.decode(data[questionIndex].correct_answer),point:point});if(questionIndex===data.length-1){return endQuiz({totalQuestions:data.length,correctAnswers:correctAnswers+point,timeTaken:timeTaken,questionsAndAnswers:qna});}setCorrectAnswers(correctAnswers+point);setQuestionIndex(questionIndex+1);setUserSlectedAns(null);setQuestionsAndAnswers(qna);};var timeOver=function timeOver(timeTaken){return endQuiz({totalQuestions:data.length,correctAnswers:correctAnswers,timeTaken:timeTaken,questionsAndAnswers:questionsAndAnswers});};return/*#__PURE__*/_jsx(Item.Header,{children:/*#__PURE__*/_jsxs(Container,{children:[/*#__PURE__*/_jsx(Segment,{children:/*#__PURE__*/_jsx(Item.Group,{divided:true,children:/*#__PURE__*/_jsx(Item,{children:/*#__PURE__*/_jsxs(Item.Content,{children:[/*#__PURE__*/_jsxs(Item.Extra,{children:[/*#__PURE__*/_jsxs(Header,{as:\"h1\",block:true,floated:\"left\",children:[/*#__PURE__*/_jsx(Icon,{name:\"info circle\"}),/*#__PURE__*/_jsx(Header.Content,{children:\"Question No.\".concat(questionIndex+1,\" of \").concat(data.length)})]}),/*#__PURE__*/_jsx(Countdown,{countdownTime:countdownTime,timeOver:timeOver,setTimeTaken:setTimeTaken})]}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsxs(Item.Meta,{children:[/*#__PURE__*/_jsx(Message,{size:\"huge\",floating:true,children:/*#__PURE__*/_jsx(\"b\",{children:\"Q. \".concat(he.decode(data[questionIndex].question))})}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(Item.Description,{children:/*#__PURE__*/_jsx(\"h3\",{children:\"Please choose one of the following answers:\"})}),/*#__PURE__*/_jsx(Divider,{}),/*#__PURE__*/_jsx(Menu,{vertical:true,fluid:true,size:\"massive\",children:data[questionIndex].options.map(function(option,i){var letter=getLetter(i);var decodedOption=he.decode(option);return/*#__PURE__*/_jsxs(Menu.Item,{name:decodedOption,active:userSlectedAns===decodedOption,onClick:handleItemClick,children:[/*#__PURE__*/_jsx(\"b\",{style:{marginRight:'8px'},children:letter}),decodedOption]},decodedOption);})})]}),/*#__PURE__*/_jsx(Divider,{}),/*#__PURE__*/_jsx(Item.Extra,{children:/*#__PURE__*/_jsx(Button,{primary:true,content:\"Next\",onClick:handleNext,floated:\"right\",size:\"big\",icon:\"right chevron\",labelPosition:\"right\",disabled:!userSlectedAns})})]})})})}),/*#__PURE__*/_jsx(\"br\",{})]})});};export default Quiz;","map":{"version":3,"names":["React","useState","useEffect","Container","Segment","Item","Divider","Button","Icon","Message","Menu","Header","he","Countdown","getLetter","jsx","_jsx","jsxs","_jsxs","Quiz","_ref","data","countdownTime","endQuiz","_useState","_useState2","_slicedToArray","questionIndex","setQuestionIndex","_useState3","_useState4","correctAnswers","setCorrectAnswers","_useState5","_useState6","userSlectedAns","setUserSlectedAns","_useState7","_useState8","questionsAndAnswers","setQuestionsAndAnswers","_useState9","_useState10","timeTaken","setTimeTaken","window","scrollTo","top","behavior","handleItemClick","e","_ref2","name","handleNext","point","decode","correct_answer","qna","push","question","user_answer","length","totalQuestions","timeOver","children","Group","divided","Content","Extra","as","block","floated","concat","Meta","size","floating","Description","vertical","fluid","options","map","option","i","letter","decodedOption","active","onClick","style","marginRight","primary","content","icon","labelPosition","disabled"],"sources":["/Users/vijayanand/Desktop/quiz-app/src/components/Quiz/index.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport PropTypes from 'prop-types';\nimport {\n  Container,\n  Segment,\n  Item,\n  Divider,\n  Button,\n  Icon,\n  Message,\n  Menu,\n  Header,\n} from 'semantic-ui-react';\nimport he from 'he';\n\nimport Countdown from '../Countdown';\nimport { getLetter } from '../../utils';\n\nconst Quiz = ({ data, countdownTime, endQuiz }) => {\n  const [questionIndex, setQuestionIndex] = useState(0);\n  const [correctAnswers, setCorrectAnswers] = useState(0);\n  const [userSlectedAns, setUserSlectedAns] = useState(null);\n  const [questionsAndAnswers, setQuestionsAndAnswers] = useState([]);\n  const [timeTaken, setTimeTaken] = useState(null);\n\n  useEffect(() => {\n    if (questionIndex > 0) window.scrollTo({ top: 0, behavior: 'smooth' });\n  }, [questionIndex]);\n\n  const handleItemClick = (e, { name }) => {\n    setUserSlectedAns(name);\n  };\n\n  const handleNext = () => {\n    let point = 0;\n    if (userSlectedAns === he.decode(data[questionIndex].correct_answer)) {\n      point = 1;\n    }\n\n    const qna = questionsAndAnswers;\n    qna.push({\n      question: he.decode(data[questionIndex].question),\n      user_answer: userSlectedAns,\n      correct_answer: he.decode(data[questionIndex].correct_answer),\n      point,\n    });\n\n    if (questionIndex === data.length - 1) {\n      return endQuiz({\n        totalQuestions: data.length,\n        correctAnswers: correctAnswers + point,\n        timeTaken,\n        questionsAndAnswers: qna,\n      });\n    }\n\n    setCorrectAnswers(correctAnswers + point);\n    setQuestionIndex(questionIndex + 1);\n    setUserSlectedAns(null);\n    setQuestionsAndAnswers(qna);\n  };\n\n  const timeOver = timeTaken => {\n    return endQuiz({\n      totalQuestions: data.length,\n      correctAnswers,\n      timeTaken,\n      questionsAndAnswers,\n    });\n  };\n\n  return (\n    <Item.Header>\n      <Container>\n        <Segment>\n          <Item.Group divided>\n            <Item>\n              <Item.Content>\n                <Item.Extra>\n                  <Header as=\"h1\" block floated=\"left\">\n                    <Icon name=\"info circle\" />\n                    <Header.Content>\n                      {`Question No.${questionIndex + 1} of ${data.length}`}\n                    </Header.Content>\n                  </Header>\n                  <Countdown\n                    countdownTime={countdownTime}\n                    timeOver={timeOver}\n                    setTimeTaken={setTimeTaken}\n                  />\n                </Item.Extra>\n                <br />\n                <Item.Meta>\n                  <Message size=\"huge\" floating>\n                    <b>{`Q. ${he.decode(data[questionIndex].question)}`}</b>\n                  </Message>\n                  <br />\n                  <Item.Description>\n                    <h3>Please choose one of the following answers:</h3>\n                  </Item.Description>\n                  <Divider />\n                  <Menu vertical fluid size=\"massive\">\n                    {data[questionIndex].options.map((option, i) => {\n                      const letter = getLetter(i);\n                      const decodedOption = he.decode(option);\n\n                      return (\n                        <Menu.Item\n                          key={decodedOption}\n                          name={decodedOption}\n                          active={userSlectedAns === decodedOption}\n                          onClick={handleItemClick}\n                        >\n                          <b style={{ marginRight: '8px' }}>{letter}</b>\n                          {decodedOption}\n                        </Menu.Item>\n                      );\n                    })}\n                  </Menu>\n                </Item.Meta>\n                <Divider />\n                <Item.Extra>\n                  <Button\n                    primary\n                    content=\"Next\"\n                    onClick={handleNext}\n                    floated=\"right\"\n                    size=\"big\"\n                    icon=\"right chevron\"\n                    labelPosition=\"right\"\n                    disabled={!userSlectedAns}\n                  />\n                </Item.Extra>\n              </Item.Content>\n            </Item>\n          </Item.Group>\n        </Segment>\n        <br />\n      </Container>\n    </Item.Header>\n  );\n};\n\nQuiz.propTypes = {\n  data: PropTypes.array.isRequired,\n  countdownTime: PropTypes.number.isRequired,\n  endQuiz: PropTypes.func.isRequired,\n};\n\nexport default Quiz;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}